# coding=utf8
# the above tag defines encoding for this document and is for Python 2.x compatibility

import re

regex = r"\w+\-?\w+.?\d?(\\r||\\n)+(Failed)"

test_str = "(len:30000) Data Protection Report for {0} - Operations Center\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n \\r\\n\\r\\n\\r\\nFrom: Turyna Jiř&iacute; \\r\\nSent: Friday, June 25, 2021 14:24\\r\\nTo: ibm.backups@jablotroncloudservices.eu.opsgenie.net\\r\\nSubject: FW: JAB - VM status 22.5.2021 7:30:02\\r\\n\\r\\n\\r\\n \\r\\n \\r\\n \\r\\n\\r\\n\\r\\nFrom: Turyna Jiř&iacute; \\r\\nSent: Friday, June 25, 2021 12:12\\r\\nTo: ibm.backups@jablotroncloudservices.eu.opsgenie.net\\r\\nSubject: FW: JAB - VM status 22.5.2021 7:30:02\\r\\n\\r\\n\\r\\n \\r\\n \\r\\n \\r\\n\\r\\n\\r\\nFrom: Turyna Jiř&iacute; \\r\\nSent: Friday, June 25, 2021 11:48\\r\\nTo: ibm.backups@jablotroncloudservices.eu.opsgenie.net\\r\\nSubject: FW: JAB - VM status 22.5.2021 7:30:02\\r\\n\\r\\n\\r\\n \\r\\n \\r\\n \\r\\n\\r\\n\\r\\nFrom: jozef.urica@cz.ibm.com &lt;jozef.urica@cz.ibm.com&gt;\\r\\n\\r\\nSent: Saturday, May 22, 2021 7:30\\r\\nSubject: JAB - VM status 22.5.2021 7:30:02\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\nCustom Report\\r\\n\\r\\n22. května 2021 at 7:30\\r\\n\\r\\n\\r\\nThis report includes 3 SQL queries\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nVM backup status\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nJAB01\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nVirtual Machine\\r\\n\\r\\n\\r\\nBACKUP_STATUS\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nELK-PRD1\\r\\n\\r\\n\\r\\n\\r\\nFailed\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nMYSQL2-PRD \\r\\n\\r\\n\\r\\n\\r\\nFailed \\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nWAVIN-STG\\r\\n\\r\\n\\r\\n\\r\\nFailed\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nWSAPP1-DEV \\r\\n\\r\\n\\r\\n\\r\\nFailed \\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nELK-PRD2\\r\\n\\r\\n\\r\\n\\r\\nFailed\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nSIGNTOOL \\r\\n\\r\\n\\r\\nFailed \\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nAZCONNECT-PRD\\r\\n\\r\\n\\r\\n\\r\\nFailed\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nWAVIN-PRD \\r\\n\\r\\n\\r\\n\\r\\nFailed \\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nELK-PRD3\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nTDPVE1 \\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nTDPVE2\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nVCSA7 \\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nCENTOS-TEMPLATE-LVM\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\ndb1-stg \\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nNEXUS\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nWSAPP1 \\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nCAS-DB1\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nPSQL-REDIS-PRD1\\r\\n\\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nPSQL-REDIS-STG1\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\ndb2-stg \\r\\n\\r\\n\\r\\nCompleted \\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n\\r\\nCAS-DB2\\r\\n\\r\\n\\r\\n\\r\\nCompleted\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\","

matches = re.finditer(regex, test_str)

for matchNum, match in enumerate(matches, start=1):
    
    print ("Match {matchNum} was found at {start}-{end}: {match}".format(matchNum = matchNum, start = match.start(), end = match.end(), match = match.group()))
    
    for groupNum in range(0, len(match.groups())):
        groupNum = groupNum + 1
        
        print ("Group {groupNum} found at {start}-{end}: {group}".format(groupNum = groupNum, start = match.start(groupNum), end = match.end(groupNum), group = match.group(groupNum)))

# Note: for Python 2.7 compatibility, use ur"" to prefix the regex and u"" to prefix the test string and substitution.